/*!
 * artDialog 4.1.7
 * Date: 2013-03-03 08:04
 * http://code.google.com/p/artdialog/
 * (c) 2009-2012 TangBin, http://www.planeArt.cn
 *
 * This is licensed under the GNU LGPL, version 2.1 or later.
 * For details, see: http://creativecommons.org/licenses/LGPL/2.1/
 */
;(function(t,e,i){t.noop=t.noop||function(){};var n,o,s,l,a=0,r=t(e),c=t(document),f=t("html"),u=document.documentElement,d=e.VBArray&&!e.XMLHttpRequest,h="createTouch"in document&&!("onmousemove"in u)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),p="artDialog"+ +new Date;var m=function(e,o,s){e=e||{};if(typeof e==="string"||e.nodeType===1){e={content:e,fixed:!h}}var l,r=m.defaults,c=e.follow=this.nodeType===1&&this||e.follow;for(var f in r){if(e[f]===i)e[f]=r[f]}t.each({ok:"yesFn",cancel:"noFn",close:"closeFn",init:"initFn",okVal:"yesText",cancelVal:"noText"},function(t,n){e[t]=e[t]!==i?e[t]:e[n]});if(typeof c==="string")c=t(c)[0];e.id=c&&c[p+"follow"]||e.id||p+a;l=m.list[e.id];if(c&&l)return l.follow(c).zIndex().focus();if(l)return l.zIndex().focus();if(h)e.fixed=false;if(!t.isArray(e.button)){e.button=e.button?[e.button]:[]}if(o!==i)e.ok=o;if(s!==i)e.cancel=s;e.ok&&e.button.push({name:e.okVal,callback:e.ok,focus:true});e.cancel&&e.button.push({name:e.cancelVal,callback:e.cancel});m.defaults.zIndex=e.zIndex;a++;return m.list[e.id]=n?n._init(e):new m.fn._init(e)};m.fn=m.prototype={version:"4.1.7",closed:true,_init:function(t){var i=this,o,s=t.icon,l=s&&(d?{png:"icons/"+s+".png"}:{backgroundImage:"url('"+t.path+"/images/skins/icons/"+s+".png')"});i.closed=false;i.config=t;i.DOM=o=i.DOM||i._getDOM();o.wrap.addClass(t.skin);o.close[t.cancel===false?"hide":"show"]();o.icon[0].style.display=s?"":"none";o.iconBg.css(l||{background:"none"});o.se.css("cursor",t.resize?"se-resize":"auto");o.title.css("cursor",t.drag?"move":"auto");o.content.css("padding",t.padding);i[t.show?"show":"hide"](true);i.button(t.button).title(t.title).content(t.content,true).size(t.width,t.height).time(t.time);t.follow?i.follow(t.follow):i.position(t.left,t.top);i.zIndex().focus();t.lock&&i.lock();i._addEvent();i._ie6PngFix();n=null;t.init&&t.init.call(i,e);return i},content:function(t){var e,n,o,s,l=this,a=l.DOM,r=a.wrap[0],c=r.offsetWidth,f=r.offsetHeight,u=parseInt(r.style.left),d=parseInt(r.style.top),h=r.style.width,p=a.content,m=p[0];l._elemBack&&l._elemBack();r.style.width="auto";if(t===i)return m;if(typeof t==="string"){p.html(t)}else if(t&&t.nodeType===1){s=t.style.display;e=t.previousSibling;n=t.nextSibling;o=t.parentNode;l._elemBack=function(){if(e&&e.parentNode){e.parentNode.insertBefore(t,e.nextSibling)}else if(n&&n.parentNode){n.parentNode.insertBefore(t,n)}else if(o){o.appendChild(t)}t.style.display=s;l._elemBack=null};p.html("");m.appendChild(t);t.style.display="block"}if(!arguments[1]){if(l.config.follow){l.follow(l.config.follow)}else{c=r.offsetWidth-c;f=r.offsetHeight-f;u=u-c/2;d=d-f/2;r.style.left=Math.max(u,0)+"px";r.style.top=Math.max(d,0)+"px"}if(h&&h!=="auto"){r.style.width=r.offsetWidth+"px"}l._autoPositionType()}l._ie6SelectFix();l._runScript(m);return l},title:function(t){var e=this.DOM,n=e.wrap,o=e.title,s="aui_state_noTitle";if(t===i)return o[0];if(t===false){o.hide().html("");n.addClass(s)}else{o.show().html(t||"");n.removeClass(s)}return this},position:function(t,e){var n=this,o=n.config,s=n.DOM.wrap[0],l=d?false:o.fixed,a=d&&n.config.fixed,f=c.scrollLeft(),u=c.scrollTop(),h=l?0:f,p=l?0:u,m=r.width(),g=r.height(),_=s.offsetWidth,v=s.offsetHeight,y=s.style;if(t||t===0){n._left=t.toString().indexOf("%")!==-1?t:null;t=n._toNumber(t,m-_);if(typeof t==="number"){t=a?t+=f:t+h;y.left=Math.max(t,h)+"px"}else if(typeof t==="string"){y.left=t}}if(e||e===0){n._top=e.toString().indexOf("%")!==-1?e:null;e=n._toNumber(e,g-v);if(typeof e==="number"){e=a?e+=u:e+p;y.top=Math.max(e,p)+"px"}else if(typeof e==="string"){y.top=e}}if(t!==i&&e!==i){n._follow=null;n._autoPositionType()}return n},size:function(t,e){var i,n,o,s,l=this,a=l.config,c=l.DOM,f=c.wrap,u=c.main,d=f[0].style,h=u[0].style;if(t){l._width=t.toString().indexOf("%")!==-1?t:null;i=r.width()-f[0].offsetWidth+u[0].offsetWidth;o=l._toNumber(t,i);t=o;if(typeof t==="number"){d.width="auto";h.width=Math.max(l.config.minWidth,t)+"px";d.width=f[0].offsetWidth+"px"}else if(typeof t==="string"){h.width=t;t==="auto"&&f.css("width","auto")}}if(e){l._height=e.toString().indexOf("%")!==-1?e:null;n=r.height()-f[0].offsetHeight+u[0].offsetHeight;s=l._toNumber(e,n);e=s;if(typeof e==="number"){h.height=Math.max(l.config.minHeight,e)+"px"}else if(typeof e==="string"){h.height=e}}l._ie6SelectFix();return l},follow:function(e){var i,n=this,o=n.config;if(typeof e==="string"||e&&e.nodeType===1){i=t(e);e=i[0]}if(!e||!e.offsetWidth&&!e.offsetHeight){return n.position(n._left,n._top)}var s=p+"follow",l=r.width(),a=r.height(),f=c.scrollLeft(),u=c.scrollTop(),h=i.offset(),m=e.offsetWidth,g=e.offsetHeight,_=d?false:o.fixed,v=_?h.left-f:h.left,y=_?h.top-u:h.top,x=n.DOM.wrap[0],b=x.style,w=x.offsetWidth,k=x.offsetHeight,M=v-(w-m)/2,D=y+g,T=_?0:f,O=_?0:u;M=M<T?v:M+w>l&&v-w>T?v-w+m:M;D=D+k>a+O&&y-k>O?y-k:D;b.left=M+"px";b.top=D+"px";n._follow&&n._follow.removeAttribute(s);n._follow=e;e[s]=o.id;n._autoPositionType();return n},button:function(){var e=this,n=arguments,o=e.DOM,s=o.buttons,l=s[0],a="aui_state_highlight",r=e._listeners=e._listeners||{},c=t.isArray(n[0])?n[0]:[].slice.call(n);if(n[0]===i)return l;t.each(c,function(i,n){var o=n.name,s=!r[o],c=!s?r[o].elem:document.createElement("button");if(!r[o])r[o]={};if(n.callback)r[o].callback=n.callback;if(n.className)c.className=n.className;if(n.focus){e._focus&&e._focus.removeClass(a);e._focus=t(c).addClass(a);e.focus()}c.setAttribute("type","button");c[p+"callback"]=o;c.disabled=!!n.disabled;if(s){c.innerHTML=o;r[o].elem=c;l.appendChild(c)}});s[0].style.display=c.length?"":"none";e._ie6SelectFix();return e},show:function(){this.DOM.wrap.show();!arguments[0]&&this._lockMaskWrap&&this._lockMaskWrap.show();return this},hide:function(){this.DOM.wrap.hide();!arguments[0]&&this._lockMaskWrap&&this._lockMaskWrap.hide();return this},close:function(){if(this.closed)return this;var t=this,i=t.DOM,o=i.wrap,s=m.list,l=t.config.close,a=t.config.follow;t.time();if(typeof l==="function"&&l.call(t,e)===false){return t}t.unlock();t._elemBack&&t._elemBack();o[0].className=o[0].style.cssText="";i.title.html("");i.content.html("");i.buttons.html("");if(m.focus===t)m.focus=null;if(a)a.removeAttribute(p+"follow");delete s[t.config.id];t._removeEvent();t.hide(true)._setAbsolute();for(var r in t){if(t.hasOwnProperty(r)&&r!=="DOM")delete t[r]}n?o.remove():n=t;return t},time:function(t){var e=this,i=e.config.cancelVal,n=e._timer;n&&clearTimeout(n);if(t){e._timer=setTimeout(function(){e._click(i)},1e3*t)}return e},focus:function(){try{if(this.config.focus){var t=this._focus&&this._focus[0]||this.DOM.close[0];t&&t.focus()}}catch(t){}return this},zIndex:function(){var t=this,e=t.DOM,i=e.wrap,n=m.focus,o=m.defaults.zIndex++;i.css("zIndex",o);t._lockMask&&t._lockMask.css("zIndex",o-1);n&&n.DOM.wrap.removeClass("aui_state_focus");m.focus=t;i.addClass("aui_state_focus");return t},setting:function(t,e){var i=this;if(t&&typeof t==="object"){for(var n in t){i.config[n]=t[n]}}if(t&&typeof t=="string"&&e&&typeof e!="undefined"){i.config[t]=e}return i},param:function(t,e){var i=this;if(t&&typeof t=="string"&&e&&typeof e!="undefined"){i.config[t]=e}return i},lock:function(){if(this._lock)return this;var e=this,i=m.defaults.zIndex-1,n=e.DOM.wrap,o=e.config,s=c.width(),l=c.height(),a=e._lockMaskWrap||t(document.body.appendChild(document.createElement("div"))),r=e._lockMask||t(a[0].appendChild(document.createElement("div"))),f="(document).documentElement",u=h?"width:"+s+"px;height:"+l+"px":"width:100%;height:100%",p=d?"position:absolute;left:expression("+f+".scrollLeft);top:expression("+f+".scrollTop);width:expression("+f+".clientWidth);height:expression("+f+".clientHeight)":"";e.zIndex();n.addClass("aui_state_lock");a[0].style.cssText=u+";position:fixed;z-index:"+i+";top:0;left:0;overflow:hidden;"+p;r[0].style.cssText="height:100%;background:"+o.background+";filter:alpha(opacity=0);opacity:0";if(d)r.html('<iframe src="about:blank" style="width:100%;height:100%;position:absolute;'+'top:0;left:0;z-index:-1;filter:alpha(opacity=0)"></iframe>');r.stop();r.bind("click",function(){e._reset()}).bind("dblclick",function(){e._click(e.config.cancelVal)});if(o.duration===0){r.css({opacity:o.opacity})}else{r.animate({opacity:o.opacity},o.duration)}e._lockMaskWrap=a;e._lockMask=r;e._lock=true;return e},unlock:function(){var t=this,e=t._lockMaskWrap,i=t._lockMask;if(!t._lock)return t;var o=e[0].style;var s=function(){if(d){o.removeExpression("width");o.removeExpression("height");o.removeExpression("left");o.removeExpression("top")}o.cssText="display:none";n&&e.remove()};i.stop().unbind();t.DOM.wrap.removeClass("aui_state_lock");if(!t.config.duration){s()}else{i.animate({opacity:0},t.config.duration,s)}t._lock=false;return t},_getDOM:function(){var e=document.createElement("div"),i=document.body;e.style.cssText="position:absolute;left:0;top:0";e.innerHTML=m._templates;i.insertBefore(e,i.firstChild);var n,o=0,s={wrap:t(e)},l=e.getElementsByTagName("*"),a=l.length;for(;o<a;o++){n=l[o].className.split("aui_")[1];if(n)s[n]=t(l[o])}return s},_toNumber:function(t,e){if(!t&&t!==0||typeof t==="number"){return t}var i=t.length-1;if(t.lastIndexOf("px")===i){t=parseInt(t)}else if(t.lastIndexOf("%")===i){t=parseInt(e*t.split("%")[0]/100)}return t},_ie6PngFix:d?function(){var t=0,e,i,n,o,s=m.defaults.path+"/skins/",l=this.DOM.wrap[0].getElementsByTagName("*");for(;t<l.length;t++){e=l[t];i=e.currentStyle["png"];if(i){n=s+i;o=e.runtimeStyle;o.backgroundImage="none";o.filter="progid:DXImageTransform.Microsoft."+"AlphaImageLoader(src='"+n+"',sizingMethod='crop')"}}}:t.noop,_ie6SelectFix:d?function(){var t=this.DOM.wrap,e=t[0],i=p+"iframeMask",n=t[i],o=e.offsetWidth,s=e.offsetHeight;o=o+"px";s=s+"px";if(n){n.style.width=o;n.style.height=s}else{n=e.appendChild(document.createElement("iframe"));t[i]=n;n.src="about:blank";n.style.cssText="position:absolute;z-index:-1;left:0;top:0;"+"filter:alpha(opacity=0);width:"+o+";height:"+s}}:t.noop,_runScript:function(t){var e,i=0,n=0,o=t.getElementsByTagName("script"),s=o.length,l=[];for(;i<s;i++){if(o[i].type==="text/dialog"){l[n]=o[i].innerHTML;n++}}if(l.length){l=l.join("");e=new Function(l);e.call(this)}},_autoPositionType:function(){this[this.config.fixed?"_setFixed":"_setAbsolute"]()},_setFixed:function(){d&&t(function(){var e="backgroundAttachment";if(f.css(e)!=="fixed"&&t("body").css(e)!=="fixed"){f.css({zoom:1,backgroundImage:"url(about:blank)",backgroundAttachment:"fixed"})}});return function(){var t=this.DOM.wrap,e=t[0].style;if(d){var i=parseInt(t.css("left")),n=parseInt(t.css("top")),o=c.scrollLeft(),s=c.scrollTop(),l="(document.documentElement)";this._setAbsolute();e.setExpression("left","eval("+l+".scrollLeft + "+(i-o)+') + "px"');e.setExpression("top","eval("+l+".scrollTop + "+(n-s)+') + "px"')}else{e.position="fixed"}}}(),_setAbsolute:function(){var t=this.DOM.wrap[0].style;if(d){t.removeExpression("left");t.removeExpression("top")}t.position="absolute"},_click:function(t){var i=this,n=i._listeners[t]&&i._listeners[t].callback;return typeof n!=="function"||n.call(i,e)!==false?i.close():i},_reset:function(t){var e,i=this,n=i._winSize||r.width()*r.height(),o=i._follow,s=i._width,l=i._height,a=i._left,c=i._top;if(t){e=i._winSize=r.width()*r.height();if(n===e)return}if(s||l)i.size(s,l);if(o){i.follow(o)}else if(a||c){i.position(a,c)}},_addEvent:function(){var t,i=this,n=i.config,o="CollectGarbage"in e,s=i.DOM;i._winResize=function(){t&&clearTimeout(t);t=setTimeout(function(){i._reset(o)},40)};r.bind("resize",i._winResize);s.wrap.bind("click",function(t){var e=t.target,o;if(e.disabled)return false;if(e===s.close[0]){i._click(n.cancelVal);return false}else{o=e[p+"callback"];o&&i._click(o)}i._ie6SelectFix()}).bind("mousedown",function(){i.zIndex()})},_removeEvent:function(){var t=this,e=t.DOM;e.wrap.unbind();r.unbind("resize",t._winResize)}};m.fn._init.prototype=m.fn;t.fn.dialog=t.fn.artDialog=function(){var t=arguments;this[this.live?"live":"bind"]("click",function(){m.apply(this,t);return false});return this};m.focus=null;m.get=function(t){return t===i?m.list:m.list[t]};m.list={};c.bind("keydown",function(t){var e=t.target,i=e.nodeName,n=/^INPUT|TEXTAREA$/,o=m.focus,s=t.keyCode;if(!o||!o.config.esc||n.test(i))return;s===27&&o._click(o.config.cancelVal)});l=e["_artDialog_path"]||function(t,e,i){for(e in t){if(t[e].src&&t[e].src.indexOf("artDialog")!==-1)i=t[e]}o=i||t[t.length-1];i=o.src.replace(/\\/g,"/");return i.lastIndexOf("/")<0?".":i.substring(0,i.lastIndexOf("/"))}(document.getElementsByTagName("script"));s=o.src.split("skin=")[1];if(s){var g=document.createElement("link");g.rel="stylesheet";g.href=l+"/skins/"+s+".css?"+m.fn.version;o.parentNode.insertBefore(g,o)}r.bind("load",function(){setTimeout(function(){if(a)return;m({left:"-9999em",time:9,fixed:false,lock:false,focus:false})},150)});try{document.execCommand("BackgroundImageCache",false,true)}catch(t){}m._templates='<div class="aui_outer">'+'<table class="aui_border">'+"<tbody>"+"<tr>"+'<td class="aui_nw"></td>'+'<td class="aui_n"></td>'+'<td class="aui_ne"></td>'+"</tr>"+"<tr>"+'<td class="aui_w"></td>'+'<td class="aui_c">'+'<div class="aui_inner">'+'<table class="aui_dialog">'+"<tbody>"+"<tr>"+'<td colspan="2" class="aui_header">'+'<div class="aui_titleBar">'+'<div class="aui_title"></div>'+'<a class="aui_close" href="javascript:/*artDialog*/;">'+"×"+"</a>"+"</div>"+"</td>"+"</tr>"+"<tr>"+'<td class="aui_icon">'+'<div class="aui_iconBg"></div>'+"</td>"+'<td class="aui_main">'+'<div class="aui_content"></div>'+"</td>"+"</tr>"+"<tr>"+'<td colspan="2" class="aui_footer">'+'<div class="aui_buttons"></div>'+"</td>"+"</tr>"+"</tbody>"+"</table>"+"</div>"+"</td>"+'<td class="aui_e"></td>'+"</tr>"+"<tr>"+'<td class="aui_sw"></td>'+'<td class="aui_s"></td>'+'<td class="aui_se"></td>'+"</tr>"+"</tbody>"+"</table>"+"</div>";m.defaults={content:'<div class="aui_loading"><span>loading..</span></div>',title:"消息",button:null,ok:null,cancel:null,init:null,close:null,okVal:"确定",cancelVal:"取消",width:"auto",height:"auto",minWidth:96,minHeight:32,padding:"20px 25px",skin:"",icon:null,time:null,esc:true,focus:true,show:true,follow:null,path:l,lock:false,background:"#000",opacity:.7,duration:300,fixed:false,left:"50%",top:"38.2%",zIndex:1987,resize:true,drag:true};e.artDialog=t.dialog=t.artDialog=m})(this.art||this.jQuery&&(this.art=jQuery),this);(function(t){var e,i,n=t(window),o=t(document),s=document.documentElement,l=!("minWidth"in s.style),a="onlosecapture"in s,r="setCapture"in s;artDialog.dragEvent=function(){var t=this,e=function(e){var i=t[e];t[e]=function(){return i.apply(t,arguments)}};e("start");e("move");e("end")};artDialog.dragEvent.prototype={onstart:t.noop,start:function(t){o.bind("mousemove",this.move).bind("mouseup",this.end);this._sClientX=t.clientX;this._sClientY=t.clientY;this.onstart(t.clientX,t.clientY);return false},onmove:t.noop,move:function(t){this._mClientX=t.clientX;this._mClientY=t.clientY;this.onmove(t.clientX-this._sClientX,t.clientY-this._sClientY);return false},onend:t.noop,end:function(t){o.unbind("mousemove",this.move).unbind("mouseup",this.end);this.onend(t.clientX,t.clientY);return false}};i=function(t){var i,s,c,f,u,d,h=artDialog.focus,p=h.DOM,m=p.wrap,g=p.title,_=p.main;var v="getSelection"in window?function(){window.getSelection().removeAllRanges()}:function(){try{document.selection.empty()}catch(t){}};e.onstart=function(t,i){if(d){s=_[0].offsetWidth;c=_[0].offsetHeight}else{f=m[0].offsetLeft;u=m[0].offsetTop}o.bind("dblclick",e.end);!l&&a?g.bind("losecapture",e.end):n.bind("blur",e.end);r&&g[0].setCapture();m.addClass("aui_state_drag");h.focus()};e.onmove=function(t,e){if(d){var n=m[0].style,o=_[0].style,l=t+s,a=e+c;n.width="auto";o.width=Math.max(0,l)+"px";n.width=m[0].offsetWidth+"px";o.height=Math.max(0,a)+"px"}else{var o=m[0].style,r=Math.max(i.minX,Math.min(i.maxX,t+f)),p=Math.max(i.minY,Math.min(i.maxY,e+u));o.left=r+"px";o.top=p+"px"}v();h._ie6SelectFix()};e.onend=function(t,i){o.unbind("dblclick",e.end);!l&&a?g.unbind("losecapture",e.end):n.unbind("blur",e.end);r&&g[0].releaseCapture();l&&!h.closed&&h._autoPositionType();m.removeClass("aui_state_drag")};d=t.target===p.se[0]?true:false;i=function(){var t,e,i=h.DOM.wrap[0],s=i.style.position==="fixed",l=i.offsetWidth,a=i.offsetHeight,r=n.width(),c=n.height(),f=s?0:o.scrollLeft(),u=s?0:o.scrollTop(),t=r-l+f;e=c-a+u;return{minX:f,minY:u,maxX:t,maxY:e}}();e.start(t)};o.bind("mousedown",function(t){var n=artDialog.focus;if(!n)return;var o=t.target,s=n.config,l=n.DOM;if(s.drag!==false&&o===l.title[0]||s.resize!==false&&o===l.se[0]){e=e||new artDialog.dragEvent;i(t);return false}})})(this.art||this.jQuery&&(this.art=jQuery));


/*!
 * artDialog iframeTools
 * Date: 2011-11-25 13:54
 * http://code.google.com/p/artdialog/
 * (c) 2009-2011 TangBin, http://www.planeArt.cn
 *
 * This is licensed under the GNU LGPL, version 2.1 or later.
 * For details, see: http://creativecommons.org/licenses/LGPL/2.1/
 */
(function(t,n,e,i){var o,a,r,c="@ARTDIALOG.DATA",l="@ARTDIALOG.OPEN",s="@ARTDIALOG.OPENER",f=n.name=n.name||"@ARTDIALOG.WINNAME"+ +new Date,u=n.VBArray&&!n.XMLHttpRequest;t(function(){!n.jQuery&&document.compatMode==="BackCompat"&&alert('artDialog Error: document.compatMode === "BackCompat"')});var d=e.top=function(){var t=n,e=function(t){try{var e=n[t].document;e.getElementsByTagName}catch(t){return false}return n[t].artDialog&&e.getElementsByTagName("frameset").length===0};if(e("top")){t=n.top}else if(e("parent")){t=n.parent}return t}();e.parent=d;o=d.artDialog;r=function(){return o.defaults.zIndex};e.data=function(t,n){var o=e.top,a=o[c]||{};o[c]=a;if(n!==i){a[t]=n}else{return a[t]}return a};e.removeData=function(t){var n=e.top[c];if(n&&n[t])delete n[t]};e.through=a=function(){var t=o.apply(this,arguments);if(d!==n)e.list[t.config.id]=t;return t};d!==n&&t(n).bind("unload",function(){var t=e.list,n;for(var i in t){if(t[i]){n=t[i].config;if(n)n.duration=0;t[i].close()}}});e.open=function(o,c,f){c=c||{};var d,p,m,h,v,g,y,x,b,w=e.top,D="position:absolute;left:-9999em;top:-9999em;border:none 0;background:transparent",k="width:100%;height:100%;border:none 0";if(f===false){var I=+new Date,O=o.replace(/([?&])_=[^&]*/,"$1_="+I);o=O+(O===o?(/\?/.test(o)?"&":"?")+"_="+I:"")}var T=function(){var n,e,i=p.content.find(".aui_loading"),o=d.config;m.addClass("aui_state_full");i&&i.hide();try{x=v.contentWindow;y=t(x.document);b=x.document.body}catch(t){v.style.cssText=k;o.follow?d.follow(o.follow):d.position(o.left,o.top);c.init&&c.init.call(d,x,w);c.init=null;return}n=o.width==="auto"?y.width()+(u?0:parseInt(t(b).css("marginLeft"))):o.width;e=o.height==="auto"?y.height():o.height;setTimeout(function(){v.style.cssText=k},0);d.size(n,e);o.follow?d.follow(o.follow):d.position(o.left,o.top);c.init&&c.init.call(d,x,w);c.init=null};var A={zIndex:r(),init:function(){d=this;p=d.DOM;h=p.main;m=p.content;v=d.iframe=w.document.createElement("iframe");v.src=o;v.name="Open"+d.config.id;v.style.cssText=D;v.setAttribute("frameborder",0,0);v.setAttribute("allowTransparency",true);g=t(v);d.content().appendChild(v);x=v.contentWindow;try{x.name=v.name;e.data(v.name+l,d);e.data(v.name+s,n)}catch(t){}g.bind("load",T)},close:function(){g.css("display","none").unbind("load",T);if(c.close&&c.close.call(this,v.contentWindow,w)===false){return false}m.removeClass("aui_state_full");g[0].src="about:blank";g.remove();try{e.removeData(v.name+l);e.removeData(v.name+s)}catch(t){}}};if(typeof c.ok==="function")A.ok=function(){return c.ok.call(d,v.contentWindow,w)};if(typeof c.cancel==="function")A.cancel=function(){return c.cancel.call(d,v.contentWindow,w)};delete c.content;for(var z in c){if(A[z]===i)A[z]=c[z]}return a(A)};e.open.api=e.data(f+l);e.opener=e.data(f+s)||n;e.open.origin=e.opener;e.close=function(){var t=e.data(f+l);t&&t.close();return false};d!=n&&t(document).bind("mousedown",function(){var t=e.open.api;t&&t.zIndex()});e.load=function(n,e,o){o=o||false;var c=e||{};var l={zIndex:r(),init:function(e){var i=this,a=i.config;t.ajax({url:n,success:function(t){i.content(t);c.init&&c.init.call(i,e)},cache:o})}};delete e.content;for(var s in c){if(l[s]===i)l[s]=c[s]}return a(l)};e.alert=function(t,n,e){if(typeof n==="string"){e=n;n=true}e=e||"warning";return a({id:"Alert",zIndex:r(),icon:e,fixed:true,lock:true,content:t,ok:true,close:n})};e.confirm=function(t,n,e){return a({id:"Confirm",zIndex:r(),icon:"question",fixed:true,lock:true,opacity:.1,content:t,ok:function(t){return n.call(this,t)},cancel:function(t){return e&&e.call(this,t)}})};e.prompt=function(t,n,e){e=e||"";var i;return a({id:"Prompt",zIndex:r(),icon:"question",fixed:true,lock:true,opacity:.1,content:['<div style="margin-bottom:5px;font-size:12px">',t,"</div>","<div>",'<input value="',e,'" style="width:18em;padding:6px 4px" />',"</div>"].join(""),init:function(){i=this.DOM.content.find("input")[0];i.select();i.focus()},ok:function(t){return n&&n.call(this,i.value,t)},cancel:true})};e.tips=function(t,n,e){if(typeof n==="function"){e=n;n=1.5}return a({id:"Tips",zIndex:r(),title:false,cancel:false,fixed:true,lock:false,init:function(t){this.DOM.content.css({background:"#000",padding:"10px",color:"#fff"});this.DOM.main.css("background","#000")},close:function(){this.DOM.content.css({background:"none",padding:"20px 25px",color:"#000"});this.DOM.main.css("background","#FFF");return e&&e.call(this,e)}}).content('<div style="padding: 0 1em;">'+t+"</div>").time(n||1.5)};e.notice=function(n){var o=n||{},a,r,c,l,s,f=800;var u={id:"Notice",left:"100%",top:"100%",fixed:true,drag:false,resize:false,follow:null,lock:false,init:function(t){a=this;r=a.config;l=a.DOM.wrap;s=parseInt(l[0].style.top);c=s+l[0].offsetHeight;l.css("top",c+"px").animate({top:s+"px"},f,function(){o.init&&o.init.call(a,t)})},close:function(n){l.animate({top:c+"px"},f,function(){o.close&&o.close.call(this,n);r.close=t.noop;a.close()});return false}};for(var d in o){if(u[d]===i)u[d]=o[d]}return e(u)};t(function(){var i=e.dragEvent;if(!i)return;var o=t(n),a=t(document),r=u?"absolute":"fixed",c=i.prototype,l=document.createElement("div"),s=l.style;s.cssText="display:none;position:"+r+";left:0;top:0;width:100%;height:100%;"+"cursor:move;filter:alpha(opacity=0);opacity:0;background:#FFF";document.body.appendChild(l);c._start=c.start;c._end=c.end;c.start=function(){var t=e.focus.DOM,n=t.main[0],i=t.content[0].getElementsByTagName("iframe")[0];c._start.apply(this,arguments);s.display="block";s.zIndex=e.defaults.zIndex+3;if(r==="absolute"){s.width=o.width()+"px";s.height=o.height()+"px";s.left=a.scrollLeft()+"px";s.top=a.scrollTop()+"px"}if(i&&n.offsetWidth*n.offsetHeight>307200){n.style.visibility="hidden"}};c.end=function(){var t=e.focus;c._end.apply(this,arguments);s.display="none";if(t)t.DOM.main[0].style.visibility="visible"}})})(this.art||this.jQuery,this,this.artDialog);