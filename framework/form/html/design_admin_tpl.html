<div style="display:none">
	<div id="{$_rs.identifier}_toolbar_data">
		<div class="layui-btn-group" pre-name="toolbar" pre-field="{$_rs.identifier}">
			<button type="button" onclick="$.form_design.set_content(this)" title="内容设置" class="layui-btn layui-btn-xs">
				<i class="layui-icon layui-icon-edit"></i>
			</button>
			<button type="button" onclick="$.form_design.set_style(this)" title="当前层设置" class="layui-btn layui-btn-xs">
				<i class="layui-icon layui-icon-theme"></i>
			</button>
			<button type="button" onclick="$.form_design.layer_sub(this)" title="添加子层布局" toolbar-btn-name="set-sublayer" class="layui-btn layui-btn-xs">
				<i class="layui-icon layui-icon-add-1"></i>
			</button>
			<button type="button" onclick="$.form_design.layer_set(this)" title="父层属性设置" class="layui-btn layui-btn-xs layui-btn-normal">
				<i class="layui-icon layui-icon-set"></i>
			</button>
			<button type="button" onclick="$.form_design.to_font(this)" title="层前移" class="layui-btn layui-btn-xs layui-btn-normal">
				<i class="layui-icon layui-icon-up"></i>
			</button>
			<button type="button" onclick="$.form_design.to_back(this)" title="层后移" class="layui-btn layui-btn-xs layui-btn-normal">
				<i class="layui-icon layui-icon-down"></i>
			</button>
			<button type="button" onclick="$.form_design.set_delete(this)" title="删除" class="layui-btn layui-btn-xs layui-btn-danger">
				<i class="layui-icon layui-icon-close"></i>
			</button>
		</div>
	</div>
	<textarea name="{$_rs.identifier}" id="{$_rs.identifier}">{$_rs.content}</textarea>
</div>
<input type="hidden" id="{$_rs.identifier}_param" value="" />
<div class="design_parent" style="min-height:{$_rs.height}px;{$_rs.form_style};">
	<div id="{$_rs.identifier}_preview" class="design_preview">{$_rs.content}</div>
	<div style="clear:both;height:0;line-height:0;overflow:hidden;display: block;visibility: hidden;"></div>
</div>
<div style="margin:10px;display:block;text-align:center;">
	<div class="layui-btn-group">
		<button type="button" onclick="$.form_design.layer_add('{$_rs.identifier}')" class="layui-btn layui-btn-sm">
			<i class="layui-icon layui-icon-addition"></i>添加层
		</button>
		<button type="button" onclick="$.form_design.layer_code('{$_rs.identifier}')" class="layui-btn layui-btn-sm layui-btn-normal">
			<i class="layui-icon layui-icon-fonts-code"></i>源代码
		</button>
		<button type="button" onclick="$.form_design.layer_clear('{$_rs.identifier}')" class="layui-btn layui-btn-sm layui-btn-danger">
			<i class="layui-icon layui-icon-fonts-clear"></i>清空
		</button>
	</div>
	<div style="clear:both;height:0;line-height:0;overflow:hidden;display: block;visibility: hidden;"></div>
</div>
<script type="text/javascript">
function div2textarea_{$_rs.identifier}()
{
	$("#{$_rs.identifier}").val($("#{$_rs.identifier}_preview").html());
	setTimeout(function(){
		div2textarea_{$_rs.identifier}();
	}, 1000);
}
$(document).ready(function(){
	div2textarea_{$_rs.identifier}(); //每隔一秒执行DIV写入内容
	$("div[pre-type=data]").removeClass("active");
});
</script>